{"version":3,"sources":["background.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA,4BAAA;;AAAA,EAAA,CAAA,GAAI,MAAM,CAAC,aAAX,CAAA;;AAAA,EACA,CAAA,GAAI,MAAM,CAAC,IADX,CAAA;;AAAA,EAEA,CAAA,GAAI,MAAM,CAAC,OAFX,CAAA;;AAAA,EAIA,QAAA,GAAW,SAAC,KAAD,EAAQ,QAAR,GAAA;AACT,IAAA,CAAC,CAAC,QAAF,CAAW;AAAA,MAAC,KAAA,EAAO,KAAR;KAAX,CAAA,CAAA;WACA,CAAC,CAAC,OAAF,CAAU;AAAA,MAAC,IAAA,EAAM,QAAP;KAAV,EAFS;EAAA,CAJX,CAAA;;AAAA,EAOA,SAAA,GAAY,SAAC,EAAD,GAAA;AACV,IAAA,CAAC,CAAC,WAAF,CAAc,EAAd,EAAkB;AAAA,MAAC,IAAA,EAAO,UAAR;KAAlB,EAAsC,SAAA,GAAA,CAAtC,CAAA,CAAA;WACA,CAAC,CAAC,SAAS,CAAC,WAAZ,CAAwB,SAAC,GAAD,GAAA;AACtB,MAAA,IAAG,GAAG,CAAC,OAAP;eAAoB,QAAA,CAAU,aAAV,EAAyB,sBAAzB,EAApB;OAAA,MAAA;eACK,QAAA,CAAU,aAAV,EAAyB,kBAAzB,EADL;OADsB;IAAA,CAAxB,EAFU;EAAA,CAPZ,CAAA;;AAAA,EAaA,CAAC,CAAC,SAAS,CAAC,WAAZ,CAAwB,SAAxB,CAbA,CAAA;;AAAA,EAcA,CAAC,CAAC,kBAAkB,CAAC,WAArB,CAAiC,SAAjC,CAdA,CAAA;;AAAA,EAgBA,CAAC,CAAC,SAAS,CAAC,WAAZ,CAAwB,SAAC,GAAD,GAAA;WACtB,CAAC,CAAC,QAAF,CAAW,EAAX,EAAe,SAAC,KAAD,GAAA;AACb,MAAA,IAAG,KAAA,KAAU,aAAb;AACE,QAAA,CAAC,CAAC,WAAF,CAAc,GAAG,CAAC,EAAlB,EAAsB;AAAA,UAAC,IAAA,EAAO,aAAR;SAAtB,EAA6C,SAAA,GAAA,CAA7C,CAAA,CAAA;eACA,QAAA,CAAU,aAAV,EAAyB,sBAAzB,EAFF;OAAA,MAGK,IAAG,KAAA,KAAU,aAAb;AACH,QAAA,CAAC,CAAC,WAAF,CAAc,GAAG,CAAC,EAAlB,EAAsB;AAAA,UAAC,IAAA,EAAO,aAAR;SAAtB,EAA6C,SAAA,GAAA,CAA7C,CAAA,CAAA;eACA,QAAA,CAAU,aAAV,EAAyB,kBAAzB,EAFG;OAJQ;IAAA,CAAf,EADsB;EAAA,CAAxB,CAhBA,CAAA;AAAA","file":"background.js","sourceRoot":"/source/","sourcesContent":["b = chrome.browserAction\nt = chrome.tabs\nr = chrome.runtime\n\nupdateBa = (title, iconPath) ->\n  b.setTitle {title: title}\n  b.setIcon {path: iconPath}\nconfirmBa = (id) ->\n  t.sendMessage id, {emit: 'jogi:has'}, ->\n  r.onMessage.addListener (req) ->\n    if req.hasElem then updateBa 'Remove Jogi', 'icon/icon_38_act.png'\n    else updateBa 'Create Jogi', 'icon/icon_38.png'\n\nt.onUpdated.addListener confirmBa\nt.onSelectionChanged.addListener confirmBa\n\nb.onClicked.addListener (tab) ->\n  b.getTitle {}, (title) ->\n    if title is 'Create Jogi'\n      t.sendMessage tab.id, {emit: 'jogi:create'}, ->\n      updateBa 'Remove Jogi', 'icon/icon_38_act.png'\n    else if title is 'Remove Jogi'\n      t.sendMessage tab.id, {emit: 'jogi:remove'}, ->\n      updateBa 'Create Jogi', 'icon/icon_38.png'\n"]}